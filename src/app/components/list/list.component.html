<ng-container *ngIf="currentUser$ | async as currentUser">
  <div>
    <mat-list>
      <h3 mat-subheader>List of stories</h3>
      <mat-list-item *ngIf="currentUser[0].isAdmin">
        <label class="add-ticket">
          <input class="ticket-input" type="text" [(ngModel)]="ticket">
          <button class="ticket-btn" mat-raised-button (click)="onAddTicket()" [disabled]="!ticket.length">Add ticket</button>
          <button class="ticket-btn" mat-raised-button (click)="addTicketsFromText()">Add tickets from text</button>
        </label>
      </mat-list-item>

      <ng-container *ngIf="tickets$ | async as tickets">
        <mat-list-item *ngFor="let ticket of tickets">
          <mat-icon mat-list-icon>description</mat-icon>
          <h4 mat-line>{{ ticket.title }}</h4>
        </mat-list-item>
      </ng-container>

    </mat-list>

  </div>
</ng-container>
